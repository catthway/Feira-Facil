<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cat√°logo - Feira F√°cil</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background-color: #f1f8e9; }
        .container { max-width: 800px; margin: auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 15px #8bc34a; }
        h1, h2 { color: #388e3c; text-align: center; }
        .back-button { text-align: center; margin-bottom: 20px; }
        .back-button a { background-color: #388e3c; color: white; padding: 10px 15px; border-radius: 5px; text-decoration: none; }
        .back-button a:hover { background-color: #2e7d32; }
        ul { list-style: none; padding: 0; }
        li { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; }
        img { width: 80px; border-radius: 5px; }
        .add-to-cart { background-color: #388e3c; color: white; padding: 8px 12px; border: none; cursor: pointer; border-radius: 5px; }
        .add-to-cart:hover { background-color: #2e7d32; }
        .remove-item { background-color: #d32f2f; color: white; padding: 5px; border: none; cursor: pointer; border-radius: 3px; }
        #cart-container { margin-top: 20px; padding: 10px; background: #ffffff; border-radius: 5px; box-shadow: 0 0 5px #ccc; }
        #total-price { font-size: 18px; font-weight: bold; color: #d32f2f; text-align: center; margin-top: 15px; }
        .checkout-button { background-color: #ff9800; color: white; padding: 10px 15px; border-radius: 5px; cursor: pointer; border: none; font-size: 18px; display: block; margin: 15px auto; }
        .checkout-button:hover { background-color: #e68a00; }
        #checkout-section { display: none; margin-top: 20px; padding: 10px; background: #ffffff; border-radius: 5px; box-shadow: 0 0 5px #ccc; text-align: center; }
        #payment-options img { width: 80px; cursor: pointer; margin: 10px; }
        #payment-info, #pix-qr { display: none; margin-top: 10px; }
    </style>
</head>

<body>

    <div class="container">
        <div class="back-button">
            <a href="index.html">‚Üê Voltar √† P√°gina Inicial</a>
        </div>

        <h1>Cat√°logo</h1>
        <p>Escolha seus produtos e finalize sua compra!</p>

        <h2>üçé Hortifruti</h2>
        <ul>
            <li><img src="banana.png" alt="Banana prata"> Banana prata (kg) ‚Äì R$ 6,39 <button class="add-to-cart" data-name="Banana prata" data-price="6.39">Adicionar ao Carrinho</button></li>
            <li><img src="macafuji.png" alt="Ma√ß√£ Fuji"> Ma√ß√£ Fuji (kg) ‚Äì R$ 8,50 <button class="add-to-cart" data-name="Ma√ß√£ Fuji" data-price="8.50">Adicionar ao Carrinho</button></li>
        </ul>

        <h2>ü•¨ Hortali√ßas</h2>
        <ul>
            <li><img src="alface.jpg" alt="Alface crespa"> Alface crespa (unidade) ‚Äì R$ 4,99 <button class="add-to-cart" data-name="Alface crespa" data-price="4.99">Adicionar ao Carrinho</button></li>
            <li><img src="tomate.jpg" alt="Tomate italiano"> Tomate italiano (kg) ‚Äì R$ 4,00 <button class="add-to-cart" data-name="Tomate italiano" data-price="4.00">Adicionar ao Carrinho</button></li>
        </ul>

        <div id="cart-container">
            <h2>üõí Seu Carrinho</h2>
            <ul id="cart-list"></ul>
            <p id="total-price">Total: R$ 0,00</p>
            <button class="checkout-button" onclick="checkout()">Concluir Compra</button>
        </div>

        <div id="checkout-section">
            <h2>Resumo da Compra</h2>
            <p id="summary"></p>

            <h2>Escolha a Forma de Pagamento</h2>
            <div id="payment-options">
                <img src="dinheiro.jpg" alt="Dinheiro" onclick="showPayment('dinheiro')">
                <img src="cartao.jpg" alt="Cart√£o" onclick="showPayment('cartao')">
                <img src="pix.jpg" alt="Pix" onclick="showPayment('pix')">
            </div>

            <div id="payment-info"></div>
            <img id="pix-qr" src="qrcode.jpg" alt="QR Code Pix">
        </div>
    </div>

    <script>
        let cart = JSON.parse(localStorage.getItem("cart")) || [];

        function displayCart() {
            let cartList = document.getElementById("cart-list");
            let totalPrice = document.getElementById("total-price");
            cartList.innerHTML = "";
            let total = 0;

            cart.forEach((item, index) => {
                let price = parseFloat(item.price) || 0; // Corre√ß√£o do erro
                total += price;
                cartList.innerHTML += `<li>${item.name} - R$${price.toFixed(2)}
                    <button class="remove-item" onclick="removeFromCart(${index})">Remover</button></li>`;
            });

            totalPrice.innerText = `Total: R$ ${total.toFixed(2)}`;
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            localStorage.setItem("cart", JSON.stringify(cart));
            displayCart();
        }

        function checkout() {
            if (cart.length === 0) {
                alert("Seu carrinho est√° vazio! Adicione produtos antes de concluir a compra.");
                return;
            }
            document.getElementById("checkout-section").style.display = "block";
            document.getElementById("summary").innerText = `Total da compra: R$ ${cart.reduce((sum, item) => sum + (parseFloat(item.price) || 0), 0).toFixed(2)}`;
        }

        function showPayment(tipo) {
            let paymentInfo = document.getElementById("payment-info");
            let pixQR = document.getElementById("pix-qr");

            paymentInfo.innerHTML = "";
            pixQR.style.display = "none";

            if (tipo === "dinheiro") {
                paymentInfo.innerHTML = "<p>Pagamento em dinheiro ser√° feito na entrega.</p>";
            } else if (tipo === "cartao") {
                paymentInfo.innerHTML = "<p>Pagamento com cart√£o ser√° realizado na entrega.</p>";
            } else if (tipo === "pix") {
                paymentInfo.innerHTML = "<p>Escaneie o QR Code para pagar via Pix.</p>";
                pixQR.style.display = "block";
            }
        }

        displayCart();
    </script>

</body>
</html>
